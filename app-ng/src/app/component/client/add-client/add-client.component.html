<div class="d-flex align-items-center m-2">
  <h4 ><b>Ajouter un USER </b></h4>
</div>

<div class="row m-lg-3">
  <div class="col-16 col-xl-10">
    <div class="card card-body border-0 shadow mb-4">
      <h2 class="h5 mb-4">Formulaire </h2>
      <form [formGroup]="clientFormGroup" (ngSubmit)="handleAddClient()">
        <div class="row">


          <div class="col-md-6 mb-3">
            <label for="usernameValidate">Nom</label>
            <input type="text" placeholder="Nom" [ngClass]="clientFormGroup.controls['nom'].errors && clientFormGroup.controls['nom'].touched == true?'form-control is-invalid':'form-control is-valid'" id="usernameValidate" formControlName="nom">
            <div [ngClass]="clientFormGroup.controls['nom'].errors && clientFormGroup.controls['nom'].touched == true?'invalid-feedback':'valid-feedback'">
              <p *ngIf="clientFormGroup.controls['nom'].errors && clientFormGroup.controls['nom'].touched">
                {{clientService.getErrorMessage('Nom', clientFormGroup.controls['nom'].errors)}}
              </p>
              <p *ngIf="!clientFormGroup.controls['nom'].errors && clientFormGroup.controls['nom'].touched">Looks Good !</p>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <label for="usernameValidate">Prenom</label>
            <input type="text"  placeholder="Prenom" [ngClass]="clientFormGroup.controls['prenom'].errors && clientFormGroup.controls['prenom'].touched == true?'form-control is-invalid':'form-control is-valid'" id="usernameValidate" formControlName="prenom" required>
            <div [ngClass]="clientFormGroup.controls['prenom'].errors && clientFormGroup.controls['prenom'].touched == true?'invalid-feedback':'valid-feedback'">
              <p *ngIf="clientFormGroup.controls['prenom'].errors && clientFormGroup.controls['prenom'].touched">
                {{clientService.getErrorMessage('prenom', clientFormGroup.controls['prenom'].errors)}}
              </p>
              <p *ngIf="!clientFormGroup.controls['prenom'].errors && clientFormGroup.controls['prenom'].touched">Looks Good !</p>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-md-6 mb-3">
            <div><label>email</label>
              <input class="form-control" formControlName="email" type="text" placeholder="Email" [ngClass]="clientFormGroup.controls['email'].errors && clientFormGroup.controls['email'].touched == true?'form-control is-invalid':'form-control is-valid'" required>
              <div [ngClass]="clientFormGroup.controls['email'].errors && clientFormGroup.controls['email'].touched == true?'invalid-feedback':'valid-feedback'">
                <p *ngIf="clientFormGroup.controls['email'].errors && clientFormGroup.controls['email'].touched">
                  {{clientService.getErrorMessage('Email', clientFormGroup.controls['email'].errors)}}
                </p>
                <p *ngIf="!clientFormGroup.controls['email'].errors && clientFormGroup.controls['email'].touched">Looks Good !</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 mb-3">
            <div><label>Phone</label>
              <input class="form-control" formControlName="phone" type="text" placeholder="Phone"[ngClass]="clientFormGroup.controls['phone'].errors && clientFormGroup.controls['phone'].touched == true?'form-control is-invalid':'form-control is-valid'" required>
              <div [ngClass]="clientFormGroup.controls['phone'].errors && clientFormGroup.controls['phone'].touched == true?'invalid-feedback':'valid-feedback'">
                <p *ngIf="clientFormGroup.controls['phone'].errors && clientFormGroup.controls['phone'].touched">
                  {{clientService.getErrorMessage('phone', clientFormGroup.controls['phone'].errors)}}
                </p>
                <p *ngIf="!clientFormGroup.controls['phone'].errors && clientFormGroup.controls['phone'].touched">Looks Good !</p>
              </div>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div><label>Username</label>
              <input class="form-control" formControlName="username" type="text" placeholder="Username"[ngClass]="clientFormGroup.controls['username'].errors && clientFormGroup.controls['username'].touched == true?'form-control is-invalid':'form-control is-valid'" required>
              <div [ngClass]="clientFormGroup.controls['username'].errors && clientFormGroup.controls['username'].touched == true?'invalid-feedback':'valid-feedback'">
                <p *ngIf="clientFormGroup.controls['username'].errors && clientFormGroup.controls['username'].touched">
                  {{clientService.getErrorMessage('username', clientFormGroup.controls['username'].errors)}}
                </p>
                <p *ngIf="!clientFormGroup.controls['username'].errors && clientFormGroup.controls['username'].touched">Looks Good !</p>
              </div>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div><label>Password</label>
              <input class="form-control" formControlName="password" type="password" placeholder="Password"[ngClass]="clientFormGroup.controls['password'].errors && clientFormGroup.controls['password'].touched == true?'form-control is-invalid':'form-control is-valid'" required>
              <div [ngClass]="clientFormGroup.controls['password'].errors && clientFormGroup.controls['password'].touched == true?'invalid-feedback':'valid-feedback'">
                <p *ngIf="clientFormGroup.controls['password'].errors && clientFormGroup.controls['password'].touched">
                  {{clientService.getErrorMessage('password', clientFormGroup.controls['password'].errors)}}
                </p>
                <p *ngIf="!clientFormGroup.controls['password'].errors && clientFormGroup.controls['password'].touched">Looks Good !</p>
              </div>
            </div>
          </div>

          <div class="col-md-6 mb-3">
            <div>
              <label>Role</label>
              <select class="form-select" formControlName="role" [ngClass]="{ 'is-invalid': clientFormGroup.controls['role'].errors && clientFormGroup.controls['role'].touched, 'is-valid': !clientFormGroup.controls['role'].errors && clientFormGroup.controls['role'].touched }" required>
                <option value="ADMIN" selected>ADMIN</option>
                <option value="EDITOR">EDITOR</option>
                <option value="USER">USER</option>
              </select>
              <div [ngClass]="{ 'invalid-feedback': clientFormGroup.controls['role'].errors && clientFormGroup.controls['role'].touched, 'valid-feedback': !clientFormGroup.controls['role'].errors && clientFormGroup.controls['role'].touched }">
                <p *ngIf="clientFormGroup.controls['role'].errors && clientFormGroup.controls['role'].touched">
                  {{ clientService.getErrorMessage('role', clientFormGroup.controls['role'].errors) }}
                </p>
                <p *ngIf="!clientFormGroup.controls['role'].errors && clientFormGroup.controls['role'].touched">Looks Good!</p>
              </div>
            </div>
          </div>

        </div>

        <div class="mt-3"><button [disabled]="this.clientFormGroup.invalid" class="btn btn-gray-800 mt-2 animate-up-2" type="submit"><svg height="24" id="Layer_1" style="enable-background:new 0 0 30 30;" version="1.1" viewBox="0 0 30 30" xml:space="preserve" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"><path d="M14,23c0-3.539,2.047-6.591,5.017-8.062c0.409-0.57,0.785-1.273,0.855-1.89c0.354-0.027,0.91-0.352,1.074-1.635  c0.088-0.689-0.262-1.076-0.474-1.198c0,0,0.528-1.003,0.528-2.214c0-2.428-0.953-4.5-3-4.5c0,0-0.711-1.5-3-1.5  c-4.242,0-6,2.721-6,6c0,1.104,0.528,2.214,0.528,2.214c-0.212,0.122-0.562,0.51-0.474,1.198c0.164,1.283,0.72,1.608,1.074,1.635  C10.263,14.245,11.55,15.777,12,16v2c-1,3-9,1-9,8h11.523C14.19,25.06,14,24.054,14,23z"/><path d="M23,16c-3.866,0-7,3.134-7,7c0,3.866,3.134,7,7,7s7-3.134,7-7C30,19.134,26.866,16,23,16z M26,24h-2v2c0,0.553-0.448,1-1,1  s-1-0.447-1-1v-2h-2c-0.552,0-1-0.447-1-1s0.448-1,1-1h2v-2c0-0.553,0.448-1,1-1s1,0.447,1,1v2h2c0.552,0,1,0.447,1,1  S26.552,24,26,24z"/></svg></button></div>
      </form>
    </div>

  </div>

</div>





